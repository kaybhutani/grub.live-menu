(this["webpackJsonpgrub.live-menu"]=this["webpackJsonpgrub.live-menu"]||[]).push([[0],[,,,,,,,,function(e,t,a){e.exports={popupContainer:"StayTuned_popupContainer__1Dva8",modalAnimation:"StayTuned_modalAnimation__2FZUM",popupDiv:"StayTuned_popupDiv__1N1m1",head:"StayTuned_head__OENoU",formDiv:"StayTuned_formDiv__3PWWE",formGroup:"StayTuned_formGroup__9PiLE",formIput:"StayTuned_formIput__eenu6",formSelect:"StayTuned_formSelect__26uJW",saveButton:"StayTuned_saveButton__Xv0PJ"}},,function(e,t,a){e.exports={MenuHeader:"MenuHeader_MenuHeader__1HN_6",imgWrapper:"MenuHeader_imgWrapper__1R7VO",firstRow:"MenuHeader_firstRow__2Ff0X",socialIcons:"MenuHeader_socialIcons__3qw6a",secondRow:"MenuHeader_secondRow__3tlVJ"}},function(e,t,a){e.exports={offersWrapper:"Offers_offersWrapper__3jQsk",offersMarque:"Offers_offersMarque__RH4ci",starIcon:"Offers_starIcon__2DIpE",seeAllBtn:"Offers_seeAllBtn__10_Wm"}},,,,function(e){e.exports=JSON.parse('{"a":"https://grub-live-backend.herokuapp.com/"}')},,function(e,t,a){e.exports={body:"MenuSectionModal_body__1umRs",button:"MenuSectionModal_button__3faMO",dot:"MenuSectionModal_dot__riFmZ"}},,,,,,,function(e,t,a){e.exports=a.p+"static/media/grub.live-logo.3b6b4ff3.svg"},function(e,t,a){e.exports=a.p+"static/media/instagramLogo.5c6536ea.svg"},function(e,t,a){e.exports=a.p+"static/media/facebook.89a9c066.svg"},function(e,t,a){e.exports=a.p+"static/media/searchIcon.02dda61b.svg"},function(e,t,a){e.exports={OfferItem:"OfferItem_OfferItem__1VFhI"}},function(e,t,a){e.exports={seeAllBtn:"OffersModal_seeAllBtn__r9QI7"}},function(e,t,a){e.exports={bottomBarWrapper:"BottomBarWrapper_bottomBarWrapper__2ihLL"}},function(e,t,a){e.exports=a.p+"static/media/three_dots_loading.4d1c15f3.svg"},,,,,function(e,t,a){e.exports=a.p+"static/media/grub.live-logo-yellow.8cd86dd6.svg"},function(e,t,a){e.exports=a(49)},,,,,,function(e,t,a){},,,,,,function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(13),c=a.n(l),o=(a(42),a(43),a(44),a(24)),s=a.n(o),i=function(){return r.a.createElement("div",null,r.a.createElement("nav",null,r.a.createElement("div",{className:"nav-item"},r.a.createElement("a",{href:"https://grub.live"},r.a.createElement("img",{className:"logo",src:s.a,alt:"Grub.live logo"})))))},m=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(i,null),r.a.createElement("div",{className:"container",style:{textAlign:"center",minHeight:600}},r.a.createElement("h2",null,"Looks like you scanned a wrong QR, visit ",r.a.createElement("a",{href:"https://grub.live",rel:"noopener noreferrer",target:"_blank"},"www.grub.live")," to know more about us.")))},u=a(6),d=a(16),f=function(e){var t=e.itemName,a=void 0===t?"":t,n=e.itemDescription,l=void 0===n?"":n,c=e.itemPrice,o=void 0===c?"":c,s=e.theme;return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",{className:"menu-item"},r.a.createElement("td",null,r.a.createElement("p",{className:"item-name",style:{WebkitTextStroke:"0.02em ".concat(s.color)}},a),l?r.a.createElement("i",{className:"item-description"},l):null),r.a.createElement("td",null,r.a.createElement("p",{className:"item-price",style:{WebkitTextStroke:"0.02em ".concat(s.color)}},o))))},E=function(e){var t=e.title,a=e.items,l=e.theme,c=e.setCurrentSection,o=r.a.createRef(),s=a.map((function(e,t){return r.a.createElement(f,Object.assign({},e,{theme:l,key:t}))}));return Object(n.useEffect)((function(){var e=function(e){if(o&&o.current){var a=o.current.getBoundingClientRect();a.y>0&&a.y<=window.innerHeight/2&&c(t)}};return window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}),[o,c,t]),r.a.createElement("div",{ref:o},r.a.createElement("h3",{className:"menu-category",id:t.trim().toLowerCase().split(" ").join("-")},t),a.length>0?r.a.createElement("div",{className:"menu-items"},r.a.createElement("table",{className:"category-table"},r.a.createElement("tbody",null,s))):null)},p=r.a.memo((function(e){var t=e.restaurantDetails;return r.a.createElement("div",{className:"menu-wrapper",style:t.menu.theme?Object(d.a)({},t.menu.theme):{}},t.menu.categories.map((function(a,n){return""!==a.title?r.a.createElement(E,{key:n,setCurrentSection:e.setCurrentSection,title:a.title,items:a.items,theme:t.menu.theme}):r.a.createElement("div",{key:n})})))})),g=a(10),v=a.n(g),h=a(25),b=a.n(h),_=a(26),N=a.n(_),y=function(e){var t=e.platform,a=e.link;if(!t)throw new Error("Platform is required!");switch(t){case"facebook":return r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:a},r.a.createElement("img",{src:N.a,alt:"Facebook"}));case"instagram":return r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:a},r.a.createElement("img",{src:b.a,alt:"Instagram"}));default:return r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:a},r.a.createElement("i",{className:"eos-icons",style:{verticalAlign:"middle",padding:"0px 0px 2px 4px",fontSize:26}},"public"))}},S=a(27),w=a.n(S),k=function(e){var t=e.restaurantDetails,a=Object(n.useState)(""),l=Object(u.a)(a,2),c=l[0],o=l[1];Object(n.useEffect)((function(){!function(){if(console.log("search called: ".concat(c)),""===c)e.setRestaurantDetails(e.constRestaurantDetails);else{var t=e.constRestaurantDetails,a=[];t.menu.categories.forEach((function(e){if(e.title.toLowerCase().includes(c.toLowerCase().trim()))a.push(e);else{for(var t=[],n=0;n<e.items.length;n++)e.items[n].itemName.toLowerCase().includes(c.toLowerCase().trim())&&t.push(e.items[n]);e.items=t,t.length>0&&a.push(e)}})),t.menu.categories=a,console.log(t),e.setRestaurantDetails(t)}}()}),[c]);var s=[];if(t.social)for(var i in t.social)s.push(r.a.createElement(y,{key:i,platform:i,link:t.social[i]}));return r.a.createElement("div",{className:v.a.MenuHeader,style:t.menu.theme?Object(d.a)({},t.menu.theme):{}},r.a.createElement("div",{style:{padding:8}},r.a.createElement("div",{className:v.a.imgWrapper},r.a.createElement("img",{src:t.logo,alt:"Logo"})),r.a.createElement("div",{className:v.a.firstRow},r.a.createElement("span",null,t.restaurantName),r.a.createElement("div",{className:v.a.socialIcons},s)),r.a.createElement("div",{className:v.a.secondRow},r.a.createElement("input",{type:"text",placeholder:"Search Dishes eg. Chilly chicken",onChange:function(e){return o(e.target.value)},value:c}),r.a.createElement("button",null,r.a.createElement("img",{src:w.a,alt:""})))))},O=a(14),I=a(17),j=a.n(I),x=function(e){var t=e.categories.map((function(t,a){var n=t.category,l=t.count,c=e.currentSection.trim().toLowerCase().split(" ").join("-")===n.trim().toLowerCase().split(" ").join("-");return r.a.createElement("a",{onClick:function(){return function(e){var t=document.getElementById(e.trim().toLowerCase().split(" ").join("-"));t&&t.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}(n)},key:a},r.a.createElement("div",{style:c?{fontWeight:"bold",color:"#000000"}:{}},c?r.a.createElement("div",{className:j.a.dot}):r.a.createElement("div",null),r.a.createElement("span",null,n),r.a.createElement("span",{style:{textAlign:"right"}},l)))}));return r.a.createElement(O.a,{trigger:r.a.createElement("button",{className:j.a.button},"BROWSE MENU"),modal:!0,nested:!0},(function(e){return r.a.createElement("div",{className:"modal"},r.a.createElement("div",{className:j.a.body},t))}))},D=a(11),C=a.n(D),M=a(28),R=a.n(M),B=function(e){var t=e.offAmount,a=e.content;return r.a.createElement("div",{className:R.a.OfferItem},t?r.a.createElement("h5",null,t,"% OFF "):r.a.createElement(r.a.Fragment,null),r.a.createElement("p",null,a),r.a.createElement("hr",null))},F=a(29),L=a.n(F),T=function(e){var t=e.offers.map((function(e,t){return r.a.createElement(B,{key:t,content:e})}));return r.a.createElement(O.a,{modal:!0,nested:!0,trigger:r.a.createElement("div",{className:L.a.seeAllBtn},"See all ",r.a.createElement("i",{className:"eos-icons"},"arrow_drop_up"))},r.a.createElement("div",{className:"modal"},r.a.createElement("div",null,t)))},W=function(e){var t=e.offers;return r.a.createElement(r.a.Fragment,null,t&&t.length>0?r.a.createElement("div",{className:C.a.offersWrapper},r.a.createElement("div",{className:C.a.offersMarque},r.a.createElement("marquee",null,r.a.createElement("span",{className:"eos-icons ".concat(C.a.starIcon)}," star "),t.map((function(e,t){return r.a.createElement("i",{key:t},e," ",r.a.createElement("span",{className:"eos-icons ".concat(C.a.starIcon)}," ","star"," "))})))),r.a.createElement(T,{offers:t})):r.a.createElement(r.a.Fragment,null))},A=a(30),H=a.n(A),P=function(e){var t=e.currentSection,a=e.restaurantDetails;return r.a.createElement("div",{className:H.a.bottomBarWrapper},r.a.createElement(x,{currentSection:t,categories:a.menu.categories.map((function(e){return{category:e.title||" ",count:e.items.length}}))}),r.a.createElement(W,{offers:a.offers}))},q=a(8),J=a.n(q),G=a(15),Q=function(e){var t=e.restaurantDetails,a=e.showStayTuned,l=e.setShowStayTuned,c=e.menuId,o=Object(n.useState)(localStorage.getItem("userPhoneNumber")),s=Object(u.a)(o,2),i=s[0],m=s[1],d=Object(n.useState)(localStorage.getItem("userEmailId")),f=Object(u.a)(d,2),E=f[0],p=f[1];return r.a.createElement(r.a.Fragment,null,a&&!localStorage.getItem(c)?r.a.createElement("div",{className:J.a.popupContainer},r.a.createElement("div",{className:J.a.popupDiv,modal:!0},r.a.createElement("div",{className:J.a.formDiv},r.a.createElement("p",{className:J.a.head},"Enter your details to Stay tuned for exciting ",r.a.createElement("b",null,"Offers, events")," and more from"," ",r.a.createElement("i",null,r.a.createElement("b",null,t.restaurantName))," ","or",r.a.createElement("a",{onClick:function(e){e.preventDefault(),l(!1)}}," ",r.a.createElement("u",null,"skip"))," ","for now."),r.a.createElement("div",{className:J.a.formGroup},r.a.createElement("p",null,"Phone Number ",r.a.createElement("span",{style:{color:"red"}},"*")),r.a.createElement("div",null,r.a.createElement("select",{className:J.a.formSelect,disabled:!0},r.a.createElement("option",{selected:!0},"+91"))," ",r.a.createElement("input",{value:i,onChange:function(e){return m(e.target.value)},className:J.a.formIput,type:"tel",pattern:"[0-9]{10}",required:!0,name:"phoneNumber",placeholder:"Eg: 9876543210"}))),r.a.createElement("div",{className:J.a.formGroup},r.a.createElement("p",null,"Email ID"),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("input",{value:E,style:{width:"100%"},onChange:function(e){return p(e.target.value)},className:J.a.formIput,type:"email",name:"email",placeholder:"Email ID, Eg: johndoe@gmail.com"})))),r.a.createElement("button",{className:J.a.saveButton,onClick:function(){return l(!1),localStorage.setItem("userPhoneNumber",i),localStorage.setItem("userEmailId",E),localStorage.setItem(c,!0),void fetch("".concat(G.a,"/users/add/").concat(c),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({number:i,email:E})})}},"Subscribe"))):r.a.createElement(r.a.Fragment,null))},U=function(e){var t=JSON.parse(JSON.stringify(e.restaurantDetails)),a=Object(n.useState)(e.restaurantDetails),l=Object(u.a)(a,2),c=l[0],o=l[1],s=Object(n.useState)(!1),i=Object(u.a)(s,2),m=i[0],d=i[1],f=Object(n.useState)(c.menu.categories[0]?c.menu.categories[0].title:""),E=Object(u.a)(f,2),g=E[0],v=E[1];return Object(n.useEffect)((function(){setTimeout((function(){return d(!0)}),8e3)}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(k,{restaurantDetails:c,setRestaurantDetails:o,constRestaurantDetails:t}),r.a.createElement("div",{style:{minHeight:"400px"}},r.a.createElement(p,{setCurrentSection:v,restaurantDetails:c})),r.a.createElement(P,{currentSection:g,restaurantDetails:c}),r.a.createElement(Q,{restaurantDetails:c,showStayTuned:m,setShowStayTuned:d,menuId:e.menuId}))},V=a(2),X=a(31),Z=a.n(X),z=a(32),K=function(e){var t=Object(n.useState)(null),a=Object(u.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(!1),s=Object(u.a)(o,2),i=s[0],m=s[1],d=Object(V.f)().menuId;return Object(n.useEffect)((function(){fetch("".concat(G.a,"/view?q=").concat(d)).then((function(e){return e.json()})).then((function(e){m(!0),console.log(e),e.success&&(e.data.disabled&&!0===e.data.disabled?console.log("Menu disabled"):c(e.data))}))}),[d]),r.a.createElement("div",null,i?r.a.createElement("div",null,null!==l?r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,null,r.a.createElement("title",null,l.restaurantName," Menu"),r.a.createElement("meta",{name:"description",content:"".concat(l.restaurantName," Digital menu. ").concat(l.bio)}),r.a.createElement("meta",{name:"keywords",content:"food, restaurant, ".concat(l.restaurantName)})),r.a.createElement("div",{className:"preview-menu"},r.a.createElement(U,{restaurantDetails:l,menuId:d}))):r.a.createElement("div",{style:{textAlign:"center",marginBottom:"40%"}},r.a.createElement("h1",null,"Incorrect QR Code"),r.a.createElement("p",null,"Looks like that is not a valid QR code, try sanning again..."),r.a.createElement("button",{className:"black-yellow",onClick:function(){return window.location.href="https://www.the-qrcode-generator.com/scan"}},"Scan QR Code"))):r.a.createElement("div",{style:{textAlign:"center",marginBottom:"40%"}},r.a.createElement("img",{alt:"",className:"loading-icon",src:Z.a})))},Y=a(36),$=a.n(Y),ee=function(){return r.a.createElement("footer",null,r.a.createElement("div",null,r.a.createElement("img",{src:$.a,alt:"Grub.live logo",className:"logo"}),r.a.createElement("div",null,"Rejuvenating the dining experience.")),r.a.createElement("div",{className:"footer-links"},r.a.createElement("a",{href:"https://grub.live/#/contact",className:"hyperlink-invert"},"Contact Us"),r.a.createElement("a",{href:"https://grub.live/#/how-it-works ",className:"hyperlink-invert"},"How it works"),r.a.createElement("a",{href:"https://grub.live/#/about",className:"hyperlink-invert"},"About Us")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("span",null,"Made with \u2764 in India"),r.a.createElement("br",null),r.a.createElement("span",null,"\xa9 2020 Grub.live"))},te=a(19);var ae=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(te.a,null,r.a.createElement(V.c,null,r.a.createElement(V.a,{exact:!0,path:"/",children:r.a.createElement(m,null)}),r.a.createElement(V.a,{exact:!0,path:"/:menuId"},r.a.createElement(K,null)))),r.a.createElement(ee,null))},ne=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,50)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,l=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),l(e),c(e)}))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ae,null)),document.getElementById("root")),ne()}],[[37,1,2]]]);
//# sourceMappingURL=main.302fc30d.chunk.js.map